# APL分析

APL言語について分析する。

## 右から左に評価する

U<sub>n</sub>を単項演算子、
D<sub>n</sub>を対象データとしたとき、

U<sub>1</sub>
U<sub>0</sub>
D<sub>0</sub>

は

U<sub>1</sub>
(U<sub>0</sub>
(D<sub>0</sub>))

と評価される。

## トークンが何者か知っている

```x```が未定義の場合、
```1 x 2```はエラーとなる。

```
   1 x 2
|value error: x
|   1     x 2
```

```x```を```+```として定義すると
```x```は二項演算子として評価される。

```
   x =: +
   1 x 2
3
```

```x```に値```100```を代入すると
```1 x 2```は再びエラーとなる。

```
   x =: 100
   1 x 2
|syntax error, unexecutable fragment (noun noun)
|to concatenate nouns use a verb such as ,
|       1 x 2
```

```x```はスカラー値を保持する変数なので、
```,```演算子で連結することはできる。

```
   1,x,2
1 100 2
```

つまり```1 x 2```は字面では構文解析できない。
```x```が何者かを知った上で構文解析している。